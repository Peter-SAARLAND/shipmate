# - name: Looking for VERSION.txt ...
#   set_fact:
#     shipmate_cargo_version: "{{ lookup('file', shipmate_cargo_dir+'/'+shipmate_version_file, errors='ignore') }}"
#   failed_when: false
#   ignore_errors: True

# - name: VERSION.txt not found. Updating Git ...
#   shell: git fetch --tags -f
#     chdir={{ shipmate_cargo_dir }}
#   when: "shipmate_cargo_version == '' or shipmate_cargo_version is undefined"

# - name: Trying to generate Version ...
#   command: npx semantic-release --generate-notes false --dry-run --debug
#     chdir="{{ shipmate_cargo_dir }}"
#     creates="{{ shipmate_cargo_dir }}/{{ shipmate_version_file }}"
#   when: "shipmate_cargo_version == '' or shipmate_cargo_version is undefined"
#   register: semantic_release

# - name: Look what I found ...
#   debug:
#     msg: "SemRel Result: {{ semantic_release }}"
#     verbosity: 1

# - name: Looking for VERSION.txt ...
#   set_fact:
#     shipmate_cargo_version: "{{ lookup('file', shipmate_cargo_dir+'/'+shipmate_version_file) }}"

# - name: Giving up ...
#   fail:
#     msg: "YARRR! Cannot ship without a valid version. (Hint: VERSION.txt is missing)"
#   when: "shipmate_cargo_version == '' or shipmate_cargo_version is undefined"
  